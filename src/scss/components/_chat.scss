@use 'sass:map';
@use 'sass:color';
@use '../abstracts/variables' as vars;
@use '../themes/light' as light;

[data-theme='dark'] {
    // Variables communes pour réutilisation
    $bg-primary: map.get(map.get(vars.$colors, 'dark'), 'bg-primary');
    $bg-secondary: map.get(map.get(vars.$colors, 'dark'), 'bg-secondary');
    $text-primary: map.get(map.get(vars.$colors, 'dark'), 'text-primary');
    $text-secondary: map.get(map.get(vars.$colors, 'dark'), 'text-secondary');
    $border: map.get(map.get(vars.$colors, 'dark'), 'border');
    $accent: map.get(map.get(vars.$colors, 'dark'), 'accent');
    $accent-hover: map.get(map.get(vars.$colors, 'dark'), 'accent-hover');
    $error: map.get(map.get(vars.$colors, 'dark'), 'error');
  
    // Pour le titre
    h1 {
      color: $text-primary !important;
    }
  
    // Pour la zone d'écriture des messages
    .ant-pro-chat-input-area {
      background: color.scale($bg-primary, $lightness: -5%) !important;
      border-radius: map.get(vars.$sizes, 'border-radius') !important;
    }
  
    // Pour l'écriture des erreurs
    .ant-alert {
      &-message {
        color: $accent !important;
      }
  
      &-error {
        background-color: $bg-secondary !important;
        border: 1px solid $accent !important;
      }
    }
  
    // Pour les icônes
    .anticon {
      color: $accent !important;
    }
  
    // Pour les zones de messages
    .ant-pro-chat-list-item-message-content {
      background-color: $bg-primary !important;
    }
  
    // Pour le texte des messages
    .zcss-1hxup8p > p {
      color: $text-primary !important;
    }
  
    // Pour le bouton de retour vers le dernier message
    .acss-1kwsnuy {
      color: $accent !important;
    }
  
    // Pour la zone de saisie de message
    .acss-6ckfqf {
      background-color: $bg-secondary !important;
  
      &::placeholder {
        color: $text-secondary !important;
        opacity: 0.7;
      }
    }
  
    // Lorsque l'on clique sur la zone de saisie de message
    .ant-select-focused {
      border: 1px solid $accent !important;
    }
  
    // Pour le texte de la zone de saisie de message
    [id^="rc_select_"] {
      color: $text-primary !important;
    }
  
    // Pour l'heure affichée au-dessus des messages
    .acss-1s7pvt5 {
      color: $text-secondary !important;
    }
  
    // Pour l'hover sur le bouton supprime
    .ant-tooltip-open {
      background-color: $bg-secondary !important;
    }
  
    // Pour la pop-up de confirmation de suppression
    .ant-popover {
      &-inner {
        background-color: $bg-secondary !important;
      }
  
      &-arrow {
        &:before,
        &::after {
          background-color: $bg-secondary !important;
        }
      }
    }
  
    // Pour le titre de la pop-up de confirmation
    .ant-popconfirm-title {
      color: $text-primary !important;
    }
  
    // Pour les actions possibles sur un message
    .zcss-t61miv {
      border: 1px solid $text-secondary;
  
      .ant-btn > .ant-btn-icon > .acss-1o4i853 > .anticon {
        color: $text-secondary !important;
      }
    }
  
    .zcss-1jqu9f1 > .ant-btn-icon > .anticon {
      color: $text-secondary !important;
    }
  
    // Pour le menu déroulant
    .ant-dropdown-menu {
      background-color: $bg-primary !important;
  
      &-title-content {
        color: $text-primary !important;
      }
  
      &-item:hover {
        background-color: $text-secondary !important;
      }
    }
  
    // Pour l'action éditer
    .acss-1oge91j {
      border: 1px solid $bg-primary !important;
  
      &:hover {
        border: 1px solid $text-secondary !important;
      }
    }
  
    // Pour la scrollbar d'édition
    .acss-zrr53u {
      color: $text-primary !important;
      @include light.scrollbar-styles(
        map.get(map.get(vars.$sizes, 'scrollbar'), 'small'),
        $bg-primary,
        $border,
        #555555
      );
    }
  
    // Pour les boutons dans éditer
    .css-7hj71p {
      > .ant-btn-primary {
        background-color: $accent !important;
  
        &:hover {
          background-color: $accent-hover !important;
        }
      }
  
      > .ant-btn-default:hover {
        color: $accent !important;
        border: 1px solid $accent !important;
      }
    }
  
    // Pour la scrollbar du chat
    .acss-1v5259w {
      @include light.scrollbar-styles(
        map.get(map.get(vars.$sizes, 'scrollbar'), 'medium'),
        $bg-primary,
        $border,
        #555555
      );
    }
  }